:root {
  --color-bg-primary: #04060f;
  --color-bg-muted: #090d1f;
  --color-bg-elevated: #121833;
  --color-surface: rgba(18, 24, 49, 0.92);
  --color-surface-soft: rgba(18, 24, 49, 0.6);
  --color-surface-bright: rgba(41, 53, 109, 0.82);
  --color-foreground-primary: #f6f8ff;
  --color-foreground-muted: #a7b2ff;
  --color-foreground-soft: rgba(198, 210, 255, 0.68);
  --color-accent-primary: #6fdcff;
  --color-accent-secondary: #ff7fe5;
  --color-accent-positive: #8df5b6;
  --color-accent-warning: #f7d774;
  --color-accent-danger: #ff5f82;
  --pixel-outline: rgba(111, 220, 255, 0.85);
  --pixel-outline-soft: rgba(111, 220, 255, 0.25);
  --pixel-shadow: rgba(9, 11, 24, 0.85);
  --pixel-grid-line: rgba(255, 255, 255, 0.05);
  --pixel-grid-line-strong: rgba(111, 220, 255, 0.16);
  --pixel-glow: rgba(111, 220, 255, 0.32);
  --pixel-fade: rgba(9, 12, 26, 0.55);
}

/* Light theme with better contrast */
[data-theme="light"] {
  --color-bg-primary: #f5f8ff;
  --color-bg-muted: #e8ecff;
  --color-bg-elevated: #ffffff;
  --color-surface: rgba(255, 255, 255, 0.95);
  --color-surface-soft: rgba(240, 244, 255, 0.85);
  --color-surface-bright: rgba(220, 230, 255, 0.9);
  --color-foreground-primary: #0a0e1f;
  --color-foreground-muted: #2d3556;
  --color-foreground-soft: rgba(45, 53, 86, 0.75);
  --color-accent-primary: #1e88e5;
  --color-accent-secondary: #c026d3;
  --color-accent-positive: #16a34a;
  --color-accent-warning: #ca8a04;
  --color-accent-danger: #dc2626;
  --pixel-outline: rgba(30, 136, 229, 0.9);
  --pixel-outline-soft: rgba(30, 136, 229, 0.35);
  --pixel-shadow: rgba(10, 14, 31, 0.15);
  --pixel-grid-line: rgba(30, 136, 229, 0.08);
  --pixel-grid-line-strong: rgba(30, 136, 229, 0.25);
  --pixel-glow: rgba(30, 136, 229, 0.45);
  --pixel-fade: rgba(200, 215, 240, 0.7);
}

/* Dark theme explicit (default) */
[data-theme="dark"] {
  --color-bg-primary: #04060f;
  --color-bg-muted: #090d1f;
  --color-bg-elevated: #121833;
  --color-surface: rgba(18, 24, 49, 0.92);
  --color-surface-soft: rgba(18, 24, 49, 0.6);
  --color-surface-bright: rgba(41, 53, 109, 0.82);
  --color-foreground-primary: #f6f8ff;
  --color-foreground-muted: #a7b2ff;
  --color-foreground-soft: rgba(198, 210, 255, 0.68);
  --color-accent-primary: #6fdcff;
  --color-accent-secondary: #ff7fe5;
  --color-accent-positive: #8df5b6;
  --color-accent-warning: #f7d774;
  --color-accent-danger: #ff5f82;
  --pixel-outline: rgba(111, 220, 255, 0.85);
  --pixel-outline-soft: rgba(111, 220, 255, 0.25);
  --pixel-shadow: rgba(9, 11, 24, 0.85);
  --pixel-grid-line: rgba(255, 255, 255, 0.05);
  --pixel-grid-line-strong: rgba(111, 220, 255, 0.16);
  --pixel-glow: rgba(111, 220, 255, 0.32);
  --pixel-fade: rgba(9, 12, 26, 0.55);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  min-height: 100vh;
  background-color: var(--color-bg-primary);
  color: var(--color-foreground-primary);
  font-family: var(--font-geist-sans), "Inter", -apple-system, BlinkMacSystemFont,
    "Segoe UI", sans-serif;
  letter-spacing: 0.02em;
  text-rendering: optimizeLegibility;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Dark theme background */
[data-theme="dark"] body {
  background-image:
    radial-gradient(circle at 20% 20%, rgba(111, 220, 255, 0.12), transparent 45%),
    radial-gradient(circle at 80% 0%, rgba(255, 127, 229, 0.08), transparent 55%),
    linear-gradient(135deg, rgba(6, 9, 21, 0.92), rgba(4, 6, 15, 0.98));
  background-attachment: fixed;
}

/* Light theme background */
[data-theme="light"] body {
  background-image:
    radial-gradient(circle at 20% 20%, rgba(30, 136, 229, 0.08), transparent 50%),
    radial-gradient(circle at 80% 0%, rgba(192, 38, 211, 0.06), transparent 60%),
    linear-gradient(135deg, rgba(245, 248, 255, 0.98), rgba(232, 236, 255, 0.95));
  background-attachment: fixed;
}

::selection {
  background: rgba(111, 220, 255, 0.35);
  color: var(--color-foreground-primary);
}

@keyframes crt-flicker {
  0%,
  100% {
    opacity: 0.85;
  }
  50% {
    opacity: 1;
  }
}

@keyframes pixel-glow {
  0% {
    box-shadow: 0 0 12px rgba(111, 220, 255, 0.28), inset 0 0 4px rgba(111, 220, 255, 0.24);
  }
  50% {
    box-shadow: 0 0 18px rgba(111, 220, 255, 0.45), inset 0 0 8px rgba(111, 220, 255, 0.3);
  }
  100% {
    box-shadow: 0 0 12px rgba(111, 220, 255, 0.28), inset 0 0 4px rgba(111, 220, 255, 0.24);
  }
}

@keyframes scanline-flow {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(100%);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 50%;
  }
  100% {
    background-position: 200% 50%;
  }
}

@keyframes float {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  25% {
    transform: translate3d(0.3rem, -0.4rem, 0);
  }
  50% {
    transform: translate3d(-0.2rem, -0.6rem, 0);
  }
  75% {
    transform: translate3d(-0.4rem, -0.2rem, 0);
  }
}

.pixel-grid {
  background-image:
    linear-gradient(
      to right,
      var(--pixel-grid-line) 1px,
      transparent 1px
    ),
    linear-gradient(
      to bottom,
      var(--pixel-grid-line) 1px,
      transparent 1px
    );
  background-size: 8px 8px;
}

.pixel-border {
  position: relative;
  isolation: isolate;
  border: 4px solid var(--pixel-outline);
  box-shadow: 
    0 0 0 2px var(--color-bg-primary),
    0 0 0 6px var(--pixel-outline),
    8px 8px 0 0 var(--pixel-shadow);
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

.pixel-border::before {
  content: "";
  position: absolute;
  inset: -4px;
  border: 2px solid rgba(111, 220, 255, 0.3);
  pointer-events: none;
  z-index: -1;
}

.pixel-border::after {
  content: "";
  position: absolute;
  top: 4px;
  left: 4px;
  right: 4px;
  bottom: 4px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  pointer-events: none;
  z-index: 1;
}

.pixel-card {
  position: relative;
  background: var(--color-surface);
  border: 3px solid var(--pixel-outline-soft);
  box-shadow: 6px 6px 0 0 rgba(0, 0, 0, 0.4);
  overflow: hidden;
  transition: transform 0.1s steps(2), box-shadow 0.1s steps(2);
  image-rendering: pixelated;
}

.pixel-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, 
    rgba(111, 220, 255, 0.4) 0%,
    rgba(255, 127, 229, 0.3) 50%,
    rgba(111, 220, 255, 0.4) 100%
  );
  pointer-events: none;
}

.pixel-card::after {
  content: "";
  position: absolute;
  inset: 6px;
  border: 1px solid rgba(255, 255, 255, 0.05);
  pointer-events: none;
}

.pixel-card:hover {
  transform: translate(-2px, -2px);
  box-shadow: 8px 8px 0 0 rgba(0, 0, 0, 0.6);
  border-color: var(--pixel-outline);
}

.pixel-glow {
  animation: pixel-glow 3.6s ease-in-out infinite;
}

.pixel-noise {
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0px, transparent 1px, transparent 2px),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.03) 0px, transparent 1px, transparent 2px);
  background-size: 4px 4px;
  opacity: 0.8;
  pointer-events: none;
  image-rendering: pixelated;
}

.scanline-overlay {
  position: relative;
  isolation: isolate;
  overflow: hidden;
}

.scanline-overlay::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.25) 0,
    rgba(0, 0, 0, 0.25) 1px,
    transparent 1px,
    transparent 3px
  );
  mix-blend-mode: soft-light;
  opacity: 0.45;
  animation: scanline-flow 12s linear infinite;
  pointer-events: none;
}

.crt-overlay {
  position: relative;
}

.crt-overlay::after {
  content: "";
  position: absolute;
  inset: -20%;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(111, 220, 255, 0.14) 0%,
    transparent 65%
  );
  filter: blur(18px);
  opacity: 0.8;
  animation: crt-flicker 2.4s steps(2) infinite;
  pointer-events: none;
  mix-blend-mode: screen;
}

.pixel-divider {
  height: 1px;
  width: 100%;
  background: linear-gradient(
    to right,
    transparent,
    rgba(111, 220, 255, 0.45),
    transparent
  );
}

.pixel-input {
  min-height: 2.75rem;
  padding: 0.75rem 1rem;
  border: 3px solid var(--pixel-outline-soft);
  background: var(--color-surface-soft);
  color: var(--color-foreground-primary);
  font-size: 0.78rem;
  font-family: var(--font-geist-mono), monospace;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
  image-rendering: pixelated;
}

.pixel-input::placeholder {
  color: var(--color-foreground-soft);
  text-transform: uppercase;
  letter-spacing: 0.35em;
  font-size: 0.58rem;
  opacity: 0.7;
}

.pixel-input:hover {
  border-color: var(--pixel-outline);
  background: var(--color-surface);
}

.pixel-input:focus,
.pixel-input:focus-visible {
  outline: none;
  border-color: var(--pixel-outline);
  box-shadow: inset 0 0 0 1px var(--pixel-outline);
  background: var(--color-surface);
}

.pixel-input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Dark theme specific styles */
[data-theme="dark"] .pixel-input {
  background: rgba(18, 24, 49, 0.7);
}

[data-theme="dark"] .pixel-input:hover,
[data-theme="dark"] .pixel-input:focus,
[data-theme="dark"] .pixel-input:focus-visible {
  background: rgba(18, 24, 49, 0.9);
}

/* Light theme specific styles */
[data-theme="light"] .pixel-input {
  background: rgba(248, 250, 255, 0.9);
}

[data-theme="light"] .pixel-input:hover,
[data-theme="light"] .pixel-input:focus,
[data-theme="light"] .pixel-input:focus-visible {
  background: rgba(255, 255, 255, 0.95);
}

/* Select dropdown arrow for light theme */
[data-theme="light"] .pixel-input[type="date"]::-webkit-calendar-picker-indicator,
[data-theme="light"] select.pixel-input {
  filter: invert(0);
}

/* Textarea specific */
textarea.pixel-input {
  resize: vertical;
  min-height: 5rem;
}

